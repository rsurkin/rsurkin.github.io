(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,a,t){},18:function(e,a,t){e.exports=t(31)},23:function(e,a,t){},31:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(16),o=t.n(l),i=(t(23),t(9)),c=t(7),d=(t(15),function(e){var a=e.children;return r.a.createElement("div",{className:"field"},a)}),u=function(e){var a=e.label,t=e.id,n=e.onClick;return r.a.createElement("div",{className:"tile",onClick:n,"data-id":t},0===a?" ":a)},s=Object(i.b)(function(e){var a=e.game15,t=a.tiles,n=void 0===t?[]:t,r=a.undoAvailable,l=void 0!==r&&r,o=a.redoAvailable,i=void 0!==o&&o,c=a.restoreAvailable;return{tiles:n,undoAvailable:l,redoAvailable:i,restoreAvailable:void 0!==c&&c}},function(e){return{startNewGame:function(){e({type:"NEW_GAME"})},handleStartNewGame:function(a){a.preventDefault(),a.stopPropagation(),e({type:"NEW_GAME"})},handleUndo:function(a){a.preventDefault(),a.stopPropagation(),e({type:"UNDO"})},handleRedo:function(a){a.preventDefault(),a.stopPropagation(),e({type:"REDO"})},handleTileClick:function(a){var t=+a.target.dataset.id;e(function(e){return{type:"MOVE_TILE",id:e}}(t))},handleSave:function(a){a.preventDefault(),a.stopPropagation(),e({type:"SAVE"})},handleRestore:function(a){a.preventDefault(),a.stopPropagation(),e({type:"RESTORE"})}}})(function(e){var a=e.handleTileClick,t=e.tiles,n=e.startNewGame,l=e.handleStartNewGame,o=e.undoAvailable,i=e.handleUndo,s=e.redoAvailable,v=e.handleRedo,b=e.handleSave,f=e.restoreAvailable,m=e.handleRestore;return t.length||n(),r.a.createElement("div",null,r.a.createElement("a",{href:"#",className:"btn",onClick:l},"Start new game"),r.a.createElement("div",{className:"actionBtns"},r.a.createElement("a",{href:"#",className:"btn",onClick:i,disabled:!o},r.a.createElement(c.a,{icon:"undo"})),r.a.createElement("a",{href:"#",className:"btn",onClick:v,disabled:!s},r.a.createElement(c.a,{icon:"redo"})),r.a.createElement("a",{href:"#",className:"btn",onClick:b},r.a.createElement(c.a,{icon:"save"})),r.a.createElement("a",{href:"#",className:"btn",onClick:m,disabled:!f},r.a.createElement(c.a,{icon:"file-upload"}))),r.a.createElement(d,null,t.map(function(e){return r.a.createElement(u,{key:e,label:e,id:e,onClick:a})})))}),v=t(4),b=t(6),f=t(13),m=function(e){return localStorage.setItem("game15save",JSON.stringify(e)),Object(f.a)({},e,{restoreAvailable:!0})},E=function(e){var a=JSON.parse(localStorage.getItem("game15save"));return a?Object(f.a)({},a):e},p=function(e,a){var t=e.undoStack,n=e.stackPointer,r=e.restoreAvailable,l=n+(a?1:-1);return t[l]?{restoreAvailable:r,tiles:Object(b.a)(t[l]),undoStack:Object(b.a)(t),stackPointer:l,undoAvailable:l>0,redoAvailable:l<t.length-1}:e},A=function(e,a){var t=e.tiles,n=e.undoStack,r=e.stackPointer,l=e.restoreAvailable;if(!h(t,a))return e;var o=t.indexOf(0),i=t.indexOf(a),c=Object(b.a)(t);c[o]=a,c[i]=0;var d=[].concat(Object(b.a)(n.slice(0,r+1)),[c]);return{restoreAvailable:l,undoStack:d,undoAvailable:!0,redoAvailable:!1,stackPointer:d.length-1,tiles:c}},h=function(e,a){var t=e.indexOf(0)+1,n=e.indexOf(a)+1;return n+1===t&&n%4!==0||n-1===t&&n%4!==1||n-4===t||n+4===t},g=function(){var e=Object(b.a)(Array(16).keys()).sort(function(){return Math.random()-.5}).sort(function(e,a){return 0===a?-1:0});return{restoreAvailable:null!==localStorage.getItem("game15save"),undoStack:[e],undoAvailable:!1,redoAvailable:!1,stackPointer:0,tiles:e}},k=Object(v.b)({game15:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.id;switch(t){case"MOVE_TILE":return A(e,n);case"NEW_GAME":return g();case"UNDO":return p(e,!1);case"REDO":return p(e,!0);case"SAVE":return m(e);case"RESTORE":return E(e);default:return e}}}),O=Object(v.c)(k),N=t(2),S=t(8);N.b.add(S.d),N.b.add(S.b),N.b.add(S.c),N.b.add(S.a);o.a.render(r.a.createElement(function(){return r.a.createElement(i.a,{store:O},r.a.createElement(s,null))},null),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.1b5f6bc1.chunk.js.map